---
layout: default
title: Работа с ветками
permalink: /lessons/04-branches/
nav_order: 4
---
```bash

# 4. Работа с ветками

В этом уроке мы изучим, как работать с ветками в Git. Ветки — это важный инструмент, позволяющий работать над разными частями проекта одновременно, не мешая основной работе. Мы разберём основные операции с ветками, такие как создание, переключение, слияние и удаление веток.

## Шаг 1: Что такое ветка?

Ветка в Git — это просто указатель на текущий снимок проекта (коммит). По умолчанию Git создаёт ветку **`main`**, которая используется как основная. Когда вы работаете с проектом, создание новых веток позволяет вам экспериментировать или работать над новыми функциями, не затрагивая основной код.

## Шаг 2: Создание новой ветки

Для того чтобы создать новую ветку, используйте команду `git branch`. Например, чтобы создать ветку с названием `feature-x`, выполните команду:

git branch feature-x

Теперь у вас есть ветка feature-x, но вы всё ещё находитесь в ветке main. Чтобы начать работать с новой веткой, нужно переключиться на неё.

Шаг 3: Переключение на ветку
Для того чтобы перейти на новую ветку, используйте команду git checkout. Для нашего примера:
git checkout feature-x
После этого вы окажетесь в ветке feature-x. Теперь можете работать над кодом, не затрагивая основной код в ветке main.

Примечание: Начиная с Git версии 2.23, вместо git checkout можно использовать команду git switch для переключения между ветками:
git switch feature-x
Шаг 4: Работать в новой ветке
Теперь, когда вы в ветке feature-x, можете начать вносить изменения. Например, добавьте новый файл или отредактируйте существующий.

Добавьте изменения:
echo "Это новая фича" > feature.txt
Добавьте файл в индекс:
git add feature.txt
Сделайте коммит:
git commit -m "Добавлен новый файл для feature-x"
Теперь ваш файл и изменения находятся в ветке feature-x, и основной код в ветке main не затронут.

Шаг 5: Просмотр веток
Для того чтобы увидеть все ветки, используйте команду:
git branch
Это покажет список всех веток в вашем репозитории. Текущая активная ветка будет отмечена звездочкой.

Пример вывода:
  feature-x
* main
Примечание: Звездочка указывает на текущую активную ветку.

Шаг 6: Слияние веток
Когда работа в ветке завершена, можно слить изменения обратно в основную ветку (main или другую). Для этого переключитесь на ветку, в которую хотите слить изменения (например, main), и выполните команду слияния.

Переключитесь на ветку main:
git checkout main
Или используйте команду git switch:
git switch main
Выполните команду слияния ветки feature-x в main:
git merge feature-x
Теперь изменения из ветки feature-x будут объединены с веткой main. Важно: если во время слияния возникнут конфликты (например, одинаковые изменения в одном и том же файле), Git попросит вас разрешить эти конфликты вручную.

Шаг 7: Разрешение конфликтов при слиянии
Если во время слияния возник конфликт, Git пометит конфликтующие файлы и предложит решить проблему вручную.

Откройте файл с конфликтами. Git добавит специальные маркеры, чтобы указать, где начинаются и заканчиваются конфликтующие части кода:

"<<<<<<< HEAD
(Ваши изменения)
=======
(Изменения из другой ветки)
>>>>>>> feature-x"

Измените файл так, как вам нужно, и удалите маркеры.

После того как все конфликты разрешены, добавьте файл в индекс:
git add имя_файла

Завершите слияние с помощью коммита:
git commit

Шаг 8: Удаление ветки
После того как ветка была слита и больше не нужна, её можно удалить, чтобы очистить репозиторий от лишних данных.

Для того чтобы удалить локальную ветку, используйте команду:
git branch -d feature-x

Если вы уверены, что ветка больше не нужна и слияние прошло успешно, используйте -D вместо -d для принудительного удаления:
git branch -D feature-x
Это удалит локальную ветку, но ветка по-прежнему будет существовать на GitHub. Чтобы удалить ветку на GitHub, используйте команду:
git push origin --delete feature-x

Шаг 9: Работа с удалёнными ветками
Если вы хотите создать ветку на удалённом репозитории, используйте команду:
git push origin feature-x

Чтобы забрать ветку с удалённого репозитория и переключиться на неё:
git fetch origin
git checkout -b feature-x origin/feature-x
Дополнительные полезные команды
Создание и переключение на новую ветку в одном шаге:

Если вы хотите сразу создать и переключиться на новую ветку, используйте:
git checkout -b новая-ветка
Слияние изменений из другой ветки в текущую (без необходимости переключаться):

Если вы хотите объединить изменения из другой ветки без переключения на неё, используйте команду:
git merge другая-ветка
Переименование ветки:

Если нужно переименовать текущую ветку:
git branch -m новое-имя-ветки

Теперь вы знаете основные операции с ветками: создание, переключение, слияние, удаление. В следующем уроке мы изучим более сложные аспекты работы с Git, включая пул-реквесты и работу в команде.